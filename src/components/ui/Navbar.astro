---
import { getLangFromUrl } from '@/i18n/utils'
import LanguageToggle from '@/components/ui/LanguageToggle.astro'
import ThemeToggle from '@/components/ui/ThemeToggle.astro'

const lang = getLangFromUrl(Astro.url)

const navItems = [
  {
    title: lang === 'es' ? 'Sobre m√≠' : 'About me',
    label: 'about-me',
    url: `/${lang}/#about-me`,
  },
  {
    title: lang === 'es' ? 'Experiencia' : 'Experience',
    label: 'experience',
    url: `/${lang}/#experience`,
  },
  {
    title: lang === 'es' ? 'Proyectos' : 'Projects',
    label: 'projects',
    url: `/${lang}/#projects`,
  },
  {
    title: lang === 'es' ? 'Habilidades' : 'Skills',
    label: 'skills',
    url: `/${lang}/#skills`,
  },
  // {
  //   title: lang === 'es' ? 'Certificaciones' : 'Certifications',
  //   label: 'certifications',
  //   url: `/${lang}/#certifications`,
  // },
]
---

<header id='header-navbar' class='w-full mb-8 z-10 sticky top-2 left-0 py-1 px-2 md:py-2 md:px-4 border border-neutral-300/60 dark:border-neutral-700/60 rounded-full'>
  <nav class='w-full flex justify-between items-center gap-3 md:gap-6'>
    <ul class='flex flex-row justify-start items-center gap-1 md:gap-3'>
      {navItems.map((link) => (
        <li class='p-0 m-0'>
          <a
            class='relative block py-1 px-2 md:p-0 transition hover:text-yellow-500 dark:hover:text-purple-700 font-semibold text-xs md:text-sm text-neutral-800 dark:text-neutral-200'
            aria-label={link.label}
            href={link.url}
          >{link.title}</a>
        </li>
      ))}
    </ul>

    <div class='flex flex-row justify-end items-center gap-1 md:gap-2'>
      <ThemeToggle />
      <LanguageToggle />
    </div>
  </nav>
</header>

<style>
  #header-navbar {
    animation: enhance-header both linear;
    animation-timeline: scroll(root);
    animation-range: 0 100px;
  }

  @keyframes enhance-header {
    to {
      backdrop-filter: blur(5px);
    }
  }
</style>