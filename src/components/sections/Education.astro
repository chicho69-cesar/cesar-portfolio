---
import { getLangFromUrl } from '@/i18n/utils'
import SectionContainer from '../ui/SectionContainer.astro'
import School from '@/assets/icons/general/school.svg'
import Check from '@/assets/icons/general/check.svg'
import { titles } from '@/i18n/titles'

const lang = getLangFromUrl(Astro.url)

const EXPERIENCE = [
  {
    title: lang === 'es' ? 'Ingeniería en Tecnologías de la Información y Comunicaciones con especialidad en Desarrollo de Aplicaciones Avanzadas de Software' : 'Engineering in Information and Communications Technologies with a specialty in Development of Advanced Software Applications',
    school: 'Instituto Tecnológico De Aguascalientes',
    date: lang === 'es' ? 'Agosto 2020 — Diciembre 2024' : 'August 2020 — December 2024',
  },
  {
    title: lang === 'es' ? 'Técnico en Programación' : 'Programming Technician',
    school: 'Centro De Bachillerato Tecnológico Industrial y de Servicios (CBTis) #247',
    date: lang === 'es' ? 'Agosto 2017 — Julio 2020' : 'August 2017 — July 2020',
  },
]

const titlesTranslates = titles[lang]
---

<SectionContainer id='education' class='mt-12'>
  <h2
    class='flex items-center mb-3 md:mb-6 text-xl md:text-3xl font-semibold gap-x-4 md:gap-x-8 text-black/80 dark:text-white'
  >
    <School class='size-8' />
    {titlesTranslates.education}
  </h2>

  <ol class='relative mt-8'>
    {EXPERIENCE.map((experience) => (
      <li class='mb-8 last:mb-0'>
        <div class='flex items-center gap-x-4'>
          <span>
            <Check class='size-6 text-gray-500 dark:text-gray-400' />
          </span>
          
          <div>
            <h3 class='text-xl font-bold text-yellow-500 dark:text-sky-400'>
              {experience.title}
            </h3>

            <p class='text-sm text-gray-600 dark:text-gray-300'>
              {experience.school}
            </p>
            
            <time class='text-xs text-gray-500 dark:text-gray-400'>
              {experience.date}
            </time>
          </div>
        </div>
      </li>
    ))}
  </ol>
</SectionContainer>
